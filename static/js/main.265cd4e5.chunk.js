(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{13:function(e,n,t){e.exports=t.p+"static/media/mine.b0c0cb28.svg"},22:function(e,n,t){e.exports=t.p+"static/media/crossedMine.1fc76a19.svg"},23:function(e,n,t){e.exports=t.p+"static/media/flag.9750a8d1.svg"},27:function(e,n,t){e.exports=t(40)},40:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),a=t(9),o=t.n(a),c=t(4),l=t(1),s=t(2),u=function(e){var n=e?"grey":"white",t=e?"white":"grey";return Object(l.b)(["background-color:lightgray;border-width:0.2rem;border-style:solid;border-top-color:",";border-left-color:",";border-bottom-color:",";border-right-color:",";"],n,n,t,t)},f=u(!1),d=u(!0),m=c.c,g=["#0000fd","#017e00","#fd0000","#010180","#830003","#008080","#000000","#808080"],p=l.c.span.withConfig({displayName:"MinesNumber__Number",componentId:"sc-1pdmxjh-0"})(["color:",";font-family:'Lato',sans-serif;font-weight:900;font-size:1.2rem;"],(function(e){return e.color})),b=function(e){var n=e.value,t=g[n-1];return r.a.createElement(p,{color:t},0===n?null:n)},y=t(13),h=t.n(y),v=t(22),x=t.n(v),w=t(23),E=t.n(w),C=t(11),j=t(8),k=t(15),_=["beginner","intermediate","expert"],O={beginner:{width:9,height:9,mines:10},intermediate:{width:16,height:16,mines:40},expert:{width:30,height:16,mines:99}},M=t(14),N=t.n(M),I=N.a.mark(S);function S(e){var n,t,i,r;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.from,t=void 0===n?0:n,i=e.to,r=t;case 2:if(!(r<i)){a.next=8;break}return a.next=5,r;case 5:r+=1,a.next=2;break;case 8:case"end":return a.stop()}}),I)}var F=function(e){var n=O[e],t=n.width,i=n.height,r=0;return Object(k.a)(S({to:i})).map((function(){return Object(k.a)(S({to:t})).map((function(){return{id:r++,isOpen:!1,isFlagged:!1,isMine:!1,adjacentMines:0}}))}))},z=function(e){var n=e.min,t=void 0===n?0:n,i=e.max,r=void 0===i?Number.MAX_SAFE_INTEGER:i;return t=Math.ceil(t),r=Math.floor(r),Math.floor(Math.random()*(r-t+1))+t},A=function(e,n){var t=n.x,i=n.y;return[{x:t-1,y:i-1},{x:t,y:i-1},{x:t+1,y:i-1},{x:t-1,y:i},{x:t+1,y:i},{x:t-1,y:i+1},{x:t,y:i+1},{x:t+1,y:i+1}].filter((function(n){var t;return null!=(null===(t=e[n.y])||void 0===t?void 0:t[n.x])}))},D=function(e,n){return A(e,n).map((function(n){var t=n.x,i=n.y;return e[i][t]}))},W=function e(n,t){var i=t.x,r=t.y,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=n[r][i];if(o.isOpen=!0,null==a[r]&&(a[r]=[]),a[r][i])return!0;if(a[r][i]=!0,o.isMine)return!1;if(0===o.adjacentMines){var c=A(n,{x:i,y:r});c.forEach((function(t){return e(n,t,a)}))}return!0},L=function(e,n){var t=O[n].mines,i=e.flat().filter((function(e){return!e.isOpen}));return i.length===t&&i.every((function(e){return e.isMine}))},R={status:"starting",difficulty:"beginner",board:F("beginner")},B=Object(C.b)({name:"game",initialState:R,reducers:{initGame:function(e,n){var t=n.payload,i=void 0===t?e.difficulty:t;e.board=F(i),e.status="starting",e.difficulty=i},clickCell:function(e,n){var t,i=n.payload,r=i.x,a=i.y;"win"!==e.status&&"lose"!==e.status&&("starting"===e.status&&(!function(e,n,t){for(var i=O[n],r=i.width,a=i.height,o=i.mines,c=0;c<o;){var l=z({max:r-1}),s=z({max:a-1}),u=e[s][l],f=l===t.x&&s===t.y;u.isMine||f||(u.isMine=!0,c+=1)}}(e.board,e.difficulty,{x:r,y:a}),(t=e.board).forEach((function(e,n){e.forEach((function(e,i){if(!e.isMine){var r=D(t,{x:i,y:n}).filter((function(e){return e.isMine})).length;e.adjacentMines=r}}))})),e.status="playing"),W(e.board,{x:r,y:a})||(e.status="lose"),L(e.board,e.difficulty)&&(e.status="win"))},clickNumberCell:function(e,n){var t=n.payload,i=t.x,r=t.y;(function(e,n){var t=n.x,i=n.y,r=e[i][t];if(r.isOpen&&!r.isMine&&r.adjacentMines>0&&D(e,{x:t,y:i}).filter((function(e){return e.isFlagged})).length===r.adjacentMines)return A(e,{x:t,y:i}).map((function(n){return[e[n.y][n.x],n]})).filter((function(e){var n=Object(j.a)(e,1)[0],t=n.isFlagged;return!n.isOpen&&!t})).map((function(n){var t=Object(j.a)(n,2)[1];return W(e,{x:t.x,y:t.y})})).every((function(e){return e}));return!0})(e.board,{x:i,y:r})?L(e.board,e.difficulty)&&(e.status="win"):e.status="lose"},flagCell:function(e,n){var t=n.payload,i=t.x,r=t.y,a=e.board[r][i];"playing"===e.status&&(a.isFlagged=!a.isFlagged)}}}),G=B.actions,H=B.reducer,U=G.clickCell,T=G.clickNumberCell,J=G.flagCell,P=G.initGame,X=H;function $(){var e=Object(s.a)(["\n  border-color: grey;\n  border-style: solid;\n  border-width: 0;\n  border-top-width: 1px;\n  border-left-width: 1px;\n"]);return $=function(){return e},e}var q=Object(l.b)($()),K=l.c.button.withConfig({displayName:"Cell__StyledCell",componentId:"sc-1lcac3f-0"})(["box-sizing:border-box;width:1.6rem;height:1.6rem;display:flex;justify-content:center;align-items:center;padding:0;outline:none;background:none;"]),Q=Object(l.c)(K).withConfig({displayName:"Cell__OpenCell",componentId:"sc-1lcac3f-1"})([""," "," & > *{margin:-1px 0 0 -1px;}"],q,(function(e){return e.exploded&&"background-color: red;"})),V=Object(l.c)(K).withConfig({displayName:"Cell__ClosedCell",componentId:"sc-1lcac3f-2"})([""," &:active:not(:disabled){","}"],f,q),Y=l.c.img.withConfig({displayName:"Cell__CellIcon",componentId:"sc-1lcac3f-3"})(["width:80%;"]),Z=function(e){var n=e.coords,t=e.data,i=m((function(e){return e.game.status})),a=Object(c.b)();if(t.isOpen)return r.a.createElement(Q,{onClick:function(){a(T(n))},exploded:t.isMine},t.isMine?r.a.createElement(Y,{src:h.a,alt:"Mine"}):r.a.createElement(b,{value:t.adjacentMines}));if("lose"===i){if(t.isMine&&!t.isFlagged)return r.a.createElement(Q,null,r.a.createElement(Y,{src:h.a,alt:"Mine"}));if(!t.isMine&&t.isFlagged)return r.a.createElement(Q,null,r.a.createElement(Y,{src:x.a,alt:"Crossed mine"}))}return r.a.createElement(V,{disabled:t.isFlagged,onClick:function(){a(U(n))},onContextMenu:function(e){e.preventDefault(),a(J(n))}},(t.isFlagged||"win"===i)&&r.a.createElement(Y,{src:E.a,alt:"Flag"}))},ee=l.c.div.withConfig({displayName:"Board__Container",componentId:"sg654j-0"})([""," display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:0.4rem;margin-bottom:0.4rem;"],d),ne=l.c.div.withConfig({displayName:"Board__Row",componentId:"sg654j-1"})(["display:flex;&:first-child ","{border-top-width:0;}",":first-child{border-left-width:0;}"],Q,Q),te=function(){var e=m((function(e){return e.game.board}));return r.a.createElement(ee,null,e.map((function(e,n){return r.a.createElement(ne,{key:e[0].id},e.map((function(e,t){return r.a.createElement(Z,{key:e.id,data:e,coords:{x:t,y:n}})})))})))},ie=l.c.div.withConfig({displayName:"DifficultySelect__Select",componentId:"k6908a-0"})([""," display:flex;flex-direction:column;"],d),re=l.c.button.withConfig({displayName:"DifficultySelect__Button",componentId:"k6908a-1"})([""," opacity:",";padding:0.2rem;outline:none;cursor:pointer;text-transform:capitalize;flex-grow:1;"],f,(function(e){return e.active?1:.6})),ae=function(){var e=Object(c.b)(),n=m((function(e){return e.game.difficulty}));return r.a.createElement(ie,null,_.map((function(t){return r.a.createElement(re,{key:t,active:n===t,onClick:function(){return function(n){e(P(n))}(t)}},t)})))};function oe(){var e=Object(s.a)(["\n  color: red;\n  font-family: 'DSEG7-Classic';\n  font-weight: bold;\n  font-size: 1.8rem;\n  letter-spacing: -0.1rem;\n  box-sizing: border-box;\n  padding: 0.1rem;\n"]);return oe=function(){return e},e}var ce=l.c.div.withConfig({displayName:"Digits__Container",componentId:"sc-1ex60se-0"})([""," position:relative;background-color:black;height:2.6rem;box-sizing:border-box;"],d),le=Object(l.b)(oe()),se=l.c.div.withConfig({displayName:"Digits__Numbers",componentId:"sc-1ex60se-1"})([""," position:absolute;top:0;right:0;"],le),ue=l.c.div.withConfig({displayName:"Digits__GhostNumbers",componentId:"sc-1ex60se-2"})([""," opacity:0.3;"],le),fe=function(e){var n=e.value;return r.a.createElement(ce,null,r.a.createElement(ue,null,"888"),r.a.createElement(se,null,n))},de=function(){var e=m((function(e){return e.game.difficulty})),n=m((function(e){return e.game.board})),t=O[e].mines-n.reduce((function(e,n){return e+n.reduce((function(e,n){return n.isFlagged?e+1:e}),0)}),0);return r.a.createElement(fe,{value:t})};function me(){var e=Object(s.a)(["\n  font-size: 1.4rem;\n  margin-top: -0.2rem;\n"]);return me=function(){return e},e}function ge(){var e=Object(s.a)(["\n  ","\n  padding: 0;\n  box-sizing: border-box;\n  width: 2.6rem;\n  height: 2.6rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  outline: none;\n\n  &:active {\n    ","\n  }\n"]);return ge=function(){return e},e}var pe=l.c.button(ge(),f,d),be=l.c.div(me()),ye={starting:"\ud83d\ude42",playing:"\ud83d\ude42",win:"\ud83d\ude0e",lose:"\ud83d\ude35"},he=function(){var e=Object(c.b)(),n=m((function(e){return e.game.status}));return r.a.createElement(pe,{onClick:function(){e(P())}},r.a.createElement(be,null,ye[n]))},ve=function(){var e=Object(i.useState)(0),n=Object(j.a)(e,2),t=n[0],a=n[1],o=m((function(e){return e.game.status}));return Object(i.useEffect)((function(){var e;if("playing"===o)return e=setInterval((function(){a((function(e){return e+1}))}),1e3),function(){clearInterval(e)};"lose"!==o&&"win"!==o||clearInterval(e),"starting"===o&&a(0)}),[o]),r.a.createElement(fe,{value:t})},xe=l.c.header.withConfig({displayName:"Header__Container",componentId:"sc-196m5fo-0"})([""," padding:0.2rem;display:flex;"],d),we=l.c.div.withConfig({displayName:"Header__Left",componentId:"sc-196m5fo-1"})(["display:flex;align-items:center;justify-content:flex-start;flex:1;"]),Ee=l.c.div.withConfig({displayName:"Header__Center",componentId:"sc-196m5fo-2"})(["display:flex;align-items:center;"]),Ce=l.c.div.withConfig({displayName:"Header__Right",componentId:"sc-196m5fo-3"})(["display:flex;align-items:center;justify-content:flex-end;flex:1;"]),je=function(){return r.a.createElement(xe,null,r.a.createElement(we,null,r.a.createElement(de,null)),r.a.createElement(Ee,null,r.a.createElement(he,null)),r.a.createElement(Ce,null,r.a.createElement(ve,null)))};function ke(){var e=Object(s.a)(["\n  ","\n  padding: 0.4rem;\n  user-select: none;\n"]);return ke=function(){return e},e}var _e=l.c.div(ke(),f),Oe=function(){return r.a.createElement(_e,null,r.a.createElement(je,null),r.a.createElement(te,null),r.a.createElement(ae,null))},Me=l.c.main.withConfig({displayName:"App__AppContainer",componentId:"sc-3rr7bp-0"})(["height:100%;width:100%;display:flex;justify-content:center;align-items:center;"]),Ne=function(){return r.a.createElement(Me,null,r.a.createElement(Oe,null))},Ie=Object(C.a)({reducer:{game:X}}),Se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fe(e,n){navigator.serviceWorker.register(e).then((function(e){e.addEventListener("updatefound",(function(){var t=e.installing;null!=t&&t.addEventListener("statechange",(function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))}))}))})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ze=t(24),Ae=t.n(ze),De=t(25),We=t.n(De),Le=t(26),Re=t.n(Le);function Be(){var e=Object(s.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Lato:wght@900&display=swap');\n  @font-face {\n    font-family: 'DSEG7-Classic';\n    src: url(",") format('woff2'),\n    url(",") format('woff'),\n    url(",") format('truetype');\n    font-weight: bold;\n    font-style: normal;\n  }\n\n  html, body, #root {\n    height: 100%; \n  }\n\n  body { \n    margin: 0;\n    background-color: #008080;\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 30%;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n"]);return Be=function(){return e},e}var Ge=Object(l.a)(Be(),Ae.a,We.a,Re.a);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:Ie},r.a.createElement(Ge,null),r.a.createElement(Ne,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/minesweeper",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/minesweeper","/service-worker.js");Se?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var i=t.headers.get("content-type");404===t.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Fe(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Fe(n,e)}))}}()}},[[27,1,2]]]);
//# sourceMappingURL=main.265cd4e5.chunk.js.map