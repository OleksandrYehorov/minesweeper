(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{13:function(e,n,t){e.exports=t.p+"static/media/mine.b0c0cb28.svg"},21:function(e,n,t){e.exports=t.p+"static/media/crossedMine.1fc76a19.svg"},22:function(e,n,t){e.exports=t.p+"static/media/flag.9750a8d1.svg"},27:function(e,n,t){e.exports=t(40)},40:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),a=t(8),o=t.n(a),c=t(4),l=t(1),s=t(2),u=function(e){var n=e?"grey":"white",t=e?"white":"grey";return Object(l.b)(["background-color:lightgray;border-width:0.2rem;border-style:solid;border-top-color:",";border-left-color:",";border-bottom-color:",";border-right-color:",";"],n,n,t,t)},d=u(!1),f=u(!0),m=t(10),g=t(14),p=["beginner","intermediate","expert"],b={beginner:{width:9,height:9,mines:10},intermediate:{width:16,height:16,mines:40},expert:{width:30,height:16,mines:99}},h=t(12),y=t.n(h),v=y.a.mark(w);function w(e){var n,t,i,r;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.from,t=void 0===n?0:n,i=e.to,r=t;case 2:if(!(r<i)){a.next=8;break}return a.next=5,r;case 5:r+=1,a.next=2;break;case 8:case"end":return a.stop()}}),v)}var x=function(e){var n=b[e],t=n.width,i=n.height,r=0;return Object(g.a)(w({to:i})).map((function(){return Object(g.a)(w({to:t})).map((function(){return{id:r++,isOpen:!1,isFlagged:!1,isMine:!1,adjacentMines:0}}))}))},E=function(e){var n=e.min,t=void 0===n?0:n,i=e.max,r=void 0===i?Number.MAX_SAFE_INTEGER:i;return t=Math.ceil(t),r=Math.floor(r),Math.floor(Math.random()*(r-t+1))+t},C=function(e,n){var t=n.x,i=n.y;return[{x:t-1,y:i-1},{x:t,y:i-1},{x:t+1,y:i-1},{x:t-1,y:i},{x:t+1,y:i},{x:t-1,y:i+1},{x:t,y:i+1},{x:t+1,y:i+1}].filter((function(n){var t;return null!=(null===(t=e[n.y])||void 0===t?void 0:t[n.x])}))},k=function(e){e.forEach((function(n,t){n.forEach((function(n,i){if(!n.isMine){var r=function(e,n){return C(e,n).map((function(n){var t=n.x,i=n.y;return e[i][t]}))}(e,{x:i,y:t}).filter((function(e){return e.isMine})).length;n.adjacentMines=r}}))}))},j={status:"starting",difficulty:"beginner",board:x("beginner")},_=Object(m.b)({name:"game",initialState:j,reducers:{initGame:function(e,n){var t=n.payload,i=void 0===t?e.difficulty:t;e.board=x(i),e.status="starting",e.difficulty=i},clickCell:function(e,n){var t=n.payload,i=t.x,r=t.y;"win"!==e.status&&"lose"!==e.status&&("starting"===e.status&&(!function(e,n,t){for(var i=b[n],r=i.width,a=i.height,o=i.mines,c=0;c<o;){var l=E({max:r-1}),s=E({max:a-1}),u=e[s][l],d=l===t.x&&s===t.y;u.isMine||d||(u.isMine=!0,c+=1)}}(e.board,e.difficulty,{x:i,y:r}),k(e.board),e.status="playing"),e.board[r][i].isMine&&(e.status="lose"),function e(n,t){var i=t.x,r=t.y,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=n[r][i];if(o.isOpen=!0,null==a[r]&&(a[r]=[]),!a[r][i]&&(a[r][i]=!0,!o.isMine&&0===o.adjacentMines)){var c=C(n,{x:i,y:r});c.forEach((function(t){return e(n,t,a)}))}}(e.board,{x:i,y:r}),function(e,n){var t=b[n].mines,i=e.flat().filter((function(e){return!e.isOpen}));return i.length===t&&i.every((function(e){return e.isMine}))}(e.board,e.difficulty)&&(e.status="win"))},flagCell:function(e,n){var t=n.payload,i=t.x,r=t.y;"playing"===e.status&&(e.board[r][i].isFlagged=!e.board[r][i].isFlagged)}}}),O=_.actions,M=_.reducer,N=O.clickCell,I=O.flagCell,S=O.initGame,F=M,z=c.c,A=["#0000fd","#017e00","#fd0000","#010180","#830003","#008080","#000000","#808080"],D=l.c.span.withConfig({displayName:"MinesNumber__Number",componentId:"sc-1pdmxjh-0"})(["color:",";font-family:'Lato',sans-serif;font-weight:900;font-size:1.2rem;"],(function(e){return e.color})),R=function(e){var n=e.value,t=A[n-1];return r.a.createElement(D,{color:t},0===n?null:n)},W=t(13),L=t.n(W),B=t(21),G=t.n(B),H=t(22),U=t.n(H);function T(){var e=Object(s.a)(["\n  border-color: grey;\n  border-style: solid;\n  border-width: 0;\n  border-top-width: 1px;\n  border-left-width: 1px;\n"]);return T=function(){return e},e}var J=Object(l.b)(T()),P=l.c.button.withConfig({displayName:"Cell__StyledCell",componentId:"sc-1lcac3f-0"})(["box-sizing:border-box;width:1.6rem;height:1.6rem;display:flex;justify-content:center;align-items:center;padding:0;outline:none;background:none;"]),X=Object(l.c)(P).withConfig({displayName:"Cell__OpenCell",componentId:"sc-1lcac3f-1"})([""," "," & > *{margin:-1px 0 0 -1px;}"],J,(function(e){return e.exploded&&"background-color: red;"})),$=Object(l.c)(P).withConfig({displayName:"Cell__ClosedCell",componentId:"sc-1lcac3f-2"})([""," &:active:not(:disabled){","}"],d,J),q=l.c.img.withConfig({displayName:"Cell__CellIcon",componentId:"sc-1lcac3f-3"})(["width:80%;"]),K=function(e){var n=e.coords,t=e.data,i=e.onClick,a=e.onRightClick,o=z((function(e){return e.game.status}));if(t.isOpen)return r.a.createElement(X,{exploded:t.isMine},t.isMine?r.a.createElement(q,{src:L.a,alt:"Mine"}):r.a.createElement(R,{value:t.adjacentMines}));if("lose"===o){if(t.isMine&&!t.isFlagged)return r.a.createElement(X,null,r.a.createElement(q,{src:L.a,alt:"Mine"}));if(!t.isMine&&t.isFlagged)return r.a.createElement(X,null,r.a.createElement(q,{src:G.a,alt:"Crossed mine"}))}return r.a.createElement($,{disabled:t.isFlagged,onClick:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){i(n)})),onContextMenu:function(e){e.preventDefault(),a(n)}},(t.isFlagged||"win"===o)&&r.a.createElement(q,{src:U.a,alt:"Flag"}))},Q=l.c.div.withConfig({displayName:"Board__Container",componentId:"sg654j-0"})([""," display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:0.4rem;margin-bottom:0.4rem;"],f),V=l.c.div.withConfig({displayName:"Board__Row",componentId:"sg654j-1"})(["display:flex;&:first-child ","{border-top-width:0;}",":first-child{border-left-width:0;}"],X,X),Y=function(){var e=Object(c.b)(),n=z((function(e){return e.game.board})),t=function(n){return e(N(n))},i=function(n){return e(I(n))};return r.a.createElement(Q,null,n.map((function(e,n){return r.a.createElement(V,{key:e[0].id},e.map((function(e,a){return r.a.createElement(K,{key:e.id,data:e,coords:{x:a,y:n},onClick:t,onRightClick:i})})))})))},Z=l.c.div.withConfig({displayName:"DifficultySelect__Select",componentId:"k6908a-0"})([""," display:flex;flex-direction:column;"],f),ee=l.c.button.withConfig({displayName:"DifficultySelect__Button",componentId:"k6908a-1"})([""," opacity:",";padding:0.2rem;outline:none;cursor:pointer;text-transform:capitalize;flex-grow:1;"],d,(function(e){return e.active?1:.6})),ne=function(){var e=Object(c.b)(),n=z((function(e){return e.game.difficulty}));return r.a.createElement(Z,null,p.map((function(t){return r.a.createElement(ee,{key:t,active:n===t,onClick:function(){return function(n){e(S(n))}(t)}},t)})))};function te(){var e=Object(s.a)(["\n  color: red;\n  font-family: 'DSEG7-Classic';\n  font-weight: bold;\n  font-size: 1.8rem;\n  letter-spacing: -0.1rem;\n  box-sizing: border-box;\n  padding: 0.1rem;\n"]);return te=function(){return e},e}var ie=l.c.div.withConfig({displayName:"Digits__Container",componentId:"sc-1ex60se-0"})([""," position:relative;background-color:black;height:2.6rem;box-sizing:border-box;"],f),re=Object(l.b)(te()),ae=l.c.div.withConfig({displayName:"Digits__Numbers",componentId:"sc-1ex60se-1"})([""," position:absolute;top:0;right:0;"],re),oe=l.c.div.withConfig({displayName:"Digits__GhostNumbers",componentId:"sc-1ex60se-2"})([""," opacity:0.3;"],re),ce=function(e){var n=e.value;return r.a.createElement(ie,null,r.a.createElement(oe,null,"888"),r.a.createElement(ae,null,n))},le=function(){var e=z((function(e){return e.game.difficulty})),n=z((function(e){return e.game.board})),t=b[e].mines-n.reduce((function(e,n){return e+n.reduce((function(e,n){return n.isFlagged?e+1:e}),0)}),0);return r.a.createElement(ce,{value:t})};function se(){var e=Object(s.a)(["\n  font-size: 1.4rem;\n  margin-top: -0.2rem;\n"]);return se=function(){return e},e}function ue(){var e=Object(s.a)(["\n  ","\n  padding: 0;\n  box-sizing: border-box;\n  width: 2.6rem;\n  height: 2.6rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  outline: none;\n\n  &:active {\n    ","\n  }\n"]);return ue=function(){return e},e}var de=l.c.button(ue(),d,f),fe=l.c.div(se()),me={starting:"\ud83d\ude42",playing:"\ud83d\ude42",win:"\ud83d\ude0e",lose:"\ud83d\ude35"},ge=function(){var e=Object(c.b)(),n=z((function(e){return e.game.status}));return r.a.createElement(de,{onClick:function(){e(S())}},r.a.createElement(fe,null,me[n]))},pe=t(26),be=function(){var e=Object(i.useState)(0),n=Object(pe.a)(e,2),t=n[0],a=n[1],o=z((function(e){return e.game.status}));return Object(i.useEffect)((function(){var e;if("playing"===o)return e=setInterval((function(){a((function(e){return e+1}))}),1e3),function(){clearInterval(e)};"lose"!==o&&"win"!==o||clearInterval(e),"starting"===o&&a(0)}),[o]),r.a.createElement(ce,{value:t})},he=l.c.header.withConfig({displayName:"Header__Container",componentId:"sc-196m5fo-0"})([""," padding:0.2rem;display:flex;"],f),ye=l.c.div.withConfig({displayName:"Header__Left",componentId:"sc-196m5fo-1"})(["display:flex;align-items:center;justify-content:flex-start;flex:1;"]),ve=l.c.div.withConfig({displayName:"Header__Center",componentId:"sc-196m5fo-2"})(["display:flex;align-items:center;"]),we=l.c.div.withConfig({displayName:"Header__Right",componentId:"sc-196m5fo-3"})(["display:flex;align-items:center;justify-content:flex-end;flex:1;"]),xe=function(){return r.a.createElement(he,null,r.a.createElement(ye,null,r.a.createElement(le,null)),r.a.createElement(ve,null,r.a.createElement(ge,null)),r.a.createElement(we,null,r.a.createElement(be,null)))};function Ee(){var e=Object(s.a)(["\n  ","\n  padding: 0.4rem;\n  user-select: none;\n"]);return Ee=function(){return e},e}var Ce=l.c.div(Ee(),d),ke=function(){return r.a.createElement(Ce,null,r.a.createElement(xe,null),r.a.createElement(Y,null),r.a.createElement(ne,null))},je=l.c.main.withConfig({displayName:"App__AppContainer",componentId:"sc-3rr7bp-0"})(["height:100%;width:100%;display:flex;justify-content:center;align-items:center;"]),_e=function(){return r.a.createElement(je,null,r.a.createElement(ke,null))},Oe=Object(m.a)({reducer:{game:F}}),Me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ne(e,n){navigator.serviceWorker.register(e).then((function(e){e.addEventListener("updatefound",(function(){var t=e.installing;null!=t&&t.addEventListener("statechange",(function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))}))}))})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ie=t(23),Se=t.n(Ie),Fe=t(24),ze=t.n(Fe),Ae=t(25),De=t.n(Ae);function Re(){var e=Object(s.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Lato:wght@900&display=swap');\n  @font-face {\n    font-family: 'DSEG7-Classic';\n    src: url(",") format('woff2'),\n    url(",") format('woff'),\n    url(",") format('truetype');\n    font-weight: bold;\n    font-style: normal;\n  }\n\n  html, body, #root {\n    height: 100%; \n  }\n\n  body { \n    margin: 0;\n    background-color: #008080;\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 30%;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n"]);return Re=function(){return e},e}var We=Object(l.a)(Re(),Se.a,ze.a,De.a);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:Oe},r.a.createElement(We,null),r.a.createElement(_e,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/minesweeper",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/minesweeper","/service-worker.js");Me?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var i=t.headers.get("content-type");404===t.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ne(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ne(n,e)}))}}()}},[[27,1,2]]]);
//# sourceMappingURL=main.2863cf78.chunk.js.map